![输入图片说明](https://foruda.gitee.com/images/1693550573230946749/06693fe2_4993153.png "屏幕截图")

> 在最新版的Chrome浏览器（以及所有以Chromium为内核的浏览器）中，已不再允许自动播放音频和视频。就算你为video或audio标签设置了autoplay属性也一样不能自动播放。

 **修改思路：** 先静音播放，页面出发播放时取消静音；

``` Html
  <!--声音播放-->
  <div style="display: none;">
    <video id="audioId" name="media" hidden muted>
      <source src="" type="audio/mp3">
    </video>
  </div>
```

``` TypeScript
  private voiceOn() {
    $("#audioId").attr("src", "app/modules/WarnPopup/text2audio.mp3");
    let myvoice: any = $("#audioId")[0];
    myvoice.muted = false;
    myvoice.play();
    // 循环播放三次
    let num = 0;
    myvoice.addEventListener("ended", () => {
      if (num == 2) {
        myvoice.pause();
        return
      }
      num = num + 1;
      myvoice.play();
    });
  }
```
